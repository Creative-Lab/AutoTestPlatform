<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="6c6fb9a9-5dc3-4a2a-83e3-c252e3b49272" activeEnvironment="Default" name="TT_APIs_AutomatedTests" resourceRoot="" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="d7c48414-9b1d-49d0-b44b-a92a9a748dbb" wadlVersion="http://wadl.dev.java.net/2009/02" name="SIGNIN" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}}</con:endpoint></con:endpoints><con:resource name="sign_in" path="/users/sign_in" id="948afba5-5ffc-4440-a549-d192ff653635"><con:settings/><con:parameters/><con:method name="Method 1" id="c7528823-614f-4e0c-9b32-84a978bf12a5" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="d64103bc-b669-42bf-befd-5fb67bf06081" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="testing1112015a@rediffmail.compost"/>
  <con:entry key="TT-Mobile" value=""/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"testing1112015a@rediffmail.com","password":"testing00000007"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="785a03be-d2dd-492d-a04c-a33bfce513ea" wadlVersion="http://wadl.dev.java.net/2009/02" name="SignUp" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://traveler-api.ttdev.in</con:endpoint></con:endpoints><con:resource name="users" path="/users" id="3c132e51-a6c6-4439-87b8-550da6cee86a"><con:settings/><con:parameters/><con:method name="Method 1" id="7a72f1a0-f7dc-4a7d-a67d-c07e3b897b95" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="f63e32ed-4d44-43ee-b3c2-2d7a729aa444" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="dtX7ByxTivHa5ic+z5QGBDhCzxkF7qdH5Iy4rY11Snw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request>{"commit":"Sign Up \u0026 Continue","user":{"confirmPassword":"password123","email":"test_32656735@mailinator.com","name":"testautomation","password":"password123","role_ids":["5"],"tnc":"1"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="9b994bf9-352d-4c43-abd8-1780b756b01d" wadlVersion="http://wadl.dev.java.net/2009/02" name="SignOut" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="sign_out" path="/users/sign_out" id="4f91a7cb-c33f-42b8-9c2a-92ee2f8117c4"><con:settings/><con:parameters><con:parameter><con:name>logout_type</con:name><con:value>json</con:value><con:style>QUERY</con:style><con:default>json</con:default></con:parameter></con:parameters><con:method name="Method 1" id="86be9abc-0a49-4d04-b30f-b00ca28c1c6c" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="a74304c6-ae88-4acd-8fe5-4419af193deb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWE2NjY2OGJhODc0Y2YwMmQ5ZjNjZjUxYTU3Y2EyMjc2BjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAz7kB0kiIiQyYSQxMCRZdGhNd1VIQnpDeWVYdmRnUW1TT0QuBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--4ef404b52b58e580063137de4f128a071d56e057;"/>
  &lt;con:entry key="TT-Mobile" value="Hd2LCpeRC2gH2bde0HL1UBP/51qZ9DhwCaANP3ihSAw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/users/sign_out</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="9c75fd30-4a8f-4e1f-8ecb-c53da9d0121a" wadlVersion="http://wadl.dev.java.net/2009/02" name="ForgotPassword" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="password" path="/users/password" id="4808ea05-9d86-4620-b0cf-a0dd1a310190"><con:settings/><con:parameters/><con:method name="Method 1" id="99e90e87-a26e-4a0d-9dba-ee095d37bfd9" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="11e717d5-eb1d-4bb8-b4c0-0cde719f798d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request>{"user":{"email":"test_32656735@mailinator.com"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/password</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="559eb5ca-8fb6-4cba-a3ba-ee0bba10d604" wadlVersion="http://wadl.dev.java.net/2009/02" name="ChangePassword" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/><con:resource name="reset_password" path="/api/v1/reset_password" id="05d6dd5f-575b-498b-994f-ad8a9016f409"><con:settings/><con:parameters/><con:method name="Method 1" id="ba859289-e309-48c7-9ef6-7c21667e10bb" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="5a2ab76d-7f7c-4724-8d5f-d6cda52e0e15" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJTQwMDVjNTcwZTcyZjA1MWY0MmE4NDU0NTEzYWMzMGNmBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpA5rFCUkiIiQyYSQxMCRoMWpMdDhNYXdMenUxNm5ZcDN4OGJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--229fb7496dbe86273bd20c04c98ce076d50d2584;"/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://traveler-api.ttdev.in</con:endpoint><con:request>{
  "reset_password_token": "mResetPasswordToken",
   "password": "newPw"
   "password_confirmation": "newPw"
}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v1/reset_password</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="4762a498-02ae-4e71-a0a6-78c62353a01f" wadlVersion="http://wadl.dev.java.net/2009/02" name="AppConfig" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="app_config.json" path="/api/{api_version}/app_config.json" id="4a0c8756-59f5-4d07-aefc-a09e1ccbc326"><con:settings/><con:parameters><con:parameter><con:name>user_id</con:name><con:value>{user_id}</con:value><con:style>QUERY</con:style><con:default>{user_id}</con:default></con:parameter><con:parameter><con:name>api_version</con:name><con:value>v2</con:value><con:style>TEMPLATE</con:style><con:default>v2</con:default></con:parameter></con:parameters><con:method name="Method 1" id="a270db1d-22d9-4d3e-93f0-bdea916cea7e" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="8102f3b4-c7de-4700-a705-9a8e6737f51b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="czLSc3s1OigRlHhB2q8TS7ZinzIXG8BBQBFNAyS30ZU="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/app_config.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="user_id" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>api_version</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2ddafee6-adec-4522-8a48-8abb54bb0ba4" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetAllHOTDestinations" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#travel_apiendpoint}</con:endpoint></con:endpoints><con:resource name="hot_destination_list.json" path="/api/{api_version}/destinations/hot_destination_list.json" id="778862c1-53c9-40ad-b2ac-a258136ad92c"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter></con:parameters><con:method name="Method 1" id="db510ecc-e6ae-4ed7-82ae-b0757cb1e420" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="395d5b54-e258-457a-bd30-b9a40fa6c672" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b;"/>
  <con:entry key="User-Agent" value="TravelTriangle"/>
  <con:entry key="TT-Mobile" value="Reci/Qwu4ytkb+Ee8viokSHUf9r8MImpH1KNgQUorFI="/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v1/destinations/hot_destination_list.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="1ad02eef-468d-4ffc-92db-8000f0b0217f" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetFilteredResultsForDestination" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/v4/get_filtered_results" id="0400d84c-aa26-44bf-b6bc-d3801e48742b"><con:settings/><con:parameters><con:parameter><con:name>result_type</con:name><con:value>package_catalog</con:value><con:style>QUERY</con:style><con:default>package_catalog</con:default></con:parameter><con:parameter><con:name>destination</con:name><con:value>67</con:value><con:style>QUERY</con:style><con:default>67</con:default></con:parameter></con:parameters><con:method name="Method 1" id="cfb53988-743a-40d1-8002-18503da24ecf" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="a50b2aaf-57c9-4b82-8e15-0a5d72b68704" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="Q1lnUkTi8pIaANDRPmFQ9SxdzAbq+A3PHmKOJV2afCc="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="85026205-7ba3-423d-b4c7-9a9f92386d54" wadlVersion="http://wadl.dev.java.net/2009/02" name="AttaractionListsByDestination" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="destination_attraction_list.json" path="/api/v2/destinations/{destination_id}/destination_attraction_list.json" id="ad76eab2-46b2-4a14-bd74-c24ea94bc042"><con:settings/><con:parameters><con:parameter><con:name>destination_id</con:name><con:value>67</con:value><con:style>TEMPLATE</con:style><con:default>67</con:default></con:parameter></con:parameters><con:method name="Method 1" id="8f6a536f-f7b9-4d35-ab34-40e744a7f43a" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="f3033d25-2f50-4916-98d3-7bce87e60748" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="80nlvhP+/mwJWxqxukANMGgM988i0RUOYikEdnmhHVw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/destinations/67/destination_attraction_list.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>destination_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="7470025b-c38b-4fb3-988d-0456f227d81e" wadlVersion="http://wadl.dev.java.net/2009/02" name="DestinationHotelImages" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="destination_hotel_images.json" path="/api/v2/destinations/{destinationId}/destination_hotel_images.json" id="70df887e-395e-4ba2-8b2b-8c4d091b2ec3"><con:settings/><con:parameters><con:parameter><con:name>destinationId</con:name><con:value>destinationId</con:value><con:style>TEMPLATE</con:style><con:default>destinationId</con:default></con:parameter></con:parameters><con:method name="Method 1" id="9d25fd8d-bbac-4169-9cc4-b5da02b92c69" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="f00ef24d-81e4-44a7-b43f-423ab7721729" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="80nlvhP+/mwJWxqxukANMGgM988i0RUOYikEdnmhHVw="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/destination_hotel_images.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="67" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f00aef4f-2af0-4fd8-afef-42f285e3d2e4" wadlVersion="http://wadl.dev.java.net/2009/02" name="DestinationTopTestimonials" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="destination_top_testimonials.json" path="/api/v1/destinations/{destinationId}/destination_top_testimonials.json" id="e64cafd1-6f98-45a2-bf1d-1c5de3d6e6fc"><con:settings/><con:parameters><con:parameter><con:name>destinationId</con:name><con:value>destinationId</con:value><con:style>TEMPLATE</con:style><con:default>destinationId</con:default></con:parameter><con:parameter><con:name>page_number</con:name><con:value>{page}</con:value><con:style>QUERY</con:style><con:default>{page}</con:default></con:parameter></con:parameters><con:method name="Method 1" id="bba9ad02-ea4b-41e3-b2d9-d1b34c559e0c" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="4ab32d67-b8f7-43ae-8d19-713dbbbdee36" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b; path=/;"/>
  &lt;con:entry key="TT-Mobile" value="UoJYeZsc7Sj1yGvwPLzwtrfLxJnzdDEalV0t8aU5RyI="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/destinations/67/destination_top_testimonials.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="destinationId" value="67"/>
  <con:entry key="page_number" value="1"/>
</con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="b3df01a6-da9b-41ad-90c5-1bccde33b264" wadlVersion="http://wadl.dev.java.net/2009/02" name="GetDestinationExtend" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_destinations_extend.json" path="/api/v2/destinations/{destinationId}/get_destinations_extend.json" id="cba0b985-83f4-4f7b-9654-beb2d6b25d76"><con:settings/><con:parameters><con:parameter><con:name>destinationId</con:name><con:value>destinationId</con:value><con:style>TEMPLATE</con:style><con:default>destinationId</con:default></con:parameter></con:parameters><con:method name="Method 1" id="6ea166fb-d56d-400a-aed9-73adea5c01ff" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="0f32e8ff-1fc9-42c2-8ca5-ee7167455128" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b;"/>
  &lt;con:entry key="TT-Mobile" value="oQIFBskCnaIyY5CAp545xV+WtrlFcscEoz40bMpwL3k="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/get_destinations_extend.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="67" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="74ed2aa0-06b5-4b9b-890b-e23745960c4d" wadlVersion="http://wadl.dev.java.net/2009/02" name="ViewPackage" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="{package_headline}" path="/api/v3/tour_packages/{package_headline}" id="f2540c99-f3e2-4df3-b43e-be73445e62bf"><con:settings/><con:parameters><con:parameter><con:name>package_headline</con:name><con:value>package_headline</con:value><con:style>TEMPLATE</con:style><con:default>package_headline</con:default></con:parameter></con:parameters><con:method name="Method 1" id="40cb302f-62b6-4353-aec3-fc7092aec9bb" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="fccd7a70-c8f4-439c-ba58-8d6378c7da35" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b"/>
  &lt;con:entry key="TT-Mobile" value="F73uJe8DAIPpRw6deKdX7ojvF3Sc4eW8R45haEUeZxA="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/tour_packages/package_headline</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="d3256e92-229e-49ac-a989-a4a66515ccb4" wadlVersion="http://wadl.dev.java.net/2009/02" name="NewRequestForm1" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="new.json" path="/api/v1/requested_trips/new.json" id="7f21b5ef-17f3-4048-9f3c-04146c7a4b6f"><con:settings/><con:parameters><con:parameter><con:name>destination_ids[]</con:name><con:value>60,61</con:value><con:style>QUERY</con:style><con:default>60,61</con:default></con:parameter></con:parameters><con:method name="Method 1" id="78bc7a17-dd6a-4518-a4e4-6207de2dd483" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="196f7986-e711-407a-99fc-68aac4c6148a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFVEkiJWVlOGFiOWIwNjhmMmQxMTNlNTgxNDFjNDg0NjIxMDNhBjsAVEkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsHWwZpAyzVA0kiIiQyYSQxMCRLSmlVNEp2L3F5TGEzbEZjYlJBUWJlBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--9f5f7131b8c4aefc998143c0c8c2293362ce756b;"/>
  &lt;con:entry key="TT-Mobile" value="AxdlZWNK1EOlfJ+DSOY++0ZoiL3jNdsBrsM0fNNdvmE="/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips/new.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="a779f994-3233-4173-9ee3-3a8843997dbe" wadlVersion="http://wadl.dev.java.net/2009/02" name="NewRequestedTrips" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="requested_trips" path="/api/v1/requested_trips" id="bec9031d-2c6e-4a51-a21f-9a7c64bff397"><con:settings/><con:parameters/><con:method name="Method 1" id="400355cb-b299-4de4-ae16-8c84b4dc9749" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="4a456b39-a76e-4c09-a86d-280850ef8cf4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","email":"testing1112015a@rediffmail.com","from_complete":"Uttar Pradesh,India","from_loc":"Noida, India","usr_location":"Noida, India","phone_no":"","preferences":[],"start_date":"2016-08-26","to_loc":"Singapore,Malaysia","trip_days":"7","trip_stage":"2"}}</con:request><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dc72b27c-65d4-430d-8dc7-dcc3e04d3048" wadlVersion="http://wadl.dev.java.net/2009/02" name="CreateRequest" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="{request_id}" path="/api/v1/requested_trips/{request_id}" id="8502e485-840e-4f4f-bb15-4747baba649c"><con:settings/><con:parameters><con:parameter><con:name>request_id</con:name><con:value>request_id</con:value><con:style>TEMPLATE</con:style><con:default>request_id</con:default></con:parameter></con:parameters><con:method name="Method 1" id="0df41bd6-2c0a-4406-92bc-8a30673c9862" method="PUT"><con:settings/><con:parameters/><con:request name="Request 1" id="77caa3a5-a5fa-4223-9f05-ae63ca901e91" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","adult":"2","child":"0","email":"testing1112015a@rediffmail.com","from_complete":"United","from_loc":"Noida, India","usr_location":"United","preferences":[{"customization_id":2,"options":[{"name":"3 Star","id":8,"tags":"","val":[]}]},{"customization_id":43,"options":[{"name":"in this week","id":203,"tags":"","val":[]}]},{"customization_id":71,"options":[]},{"customization_id":29,"options":[]}],"start_date":"2016-08-27","to_loc":"Singapore","trip_days":"7"}}</con:request><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5c0e149f-3806-4698-9b16-c549b946413e" wadlVersion="http://wadl.dev.java.net/2009/02" name="Admin_close_requested_trip" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="close_requested_trip" path="/admins/close_requested_trip" id="43034f9a-a191-4b90-a782-d27fba6d87e2"><con:settings/><con:parameters/><con:method name="Method 1" id="f13883b3-a78b-484d-a7f7-5b3aac5f3229" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="49de009f-7af1-45cc-83e9-5bd95759cbd8" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="_trips3m_session=BAh7C0kiD3Nlc3Npb25faWQGOgZFVEkiJTRiMGU5YzVlMDViMTExOTdiNmY4N2U1ZTIyNzVhNDY5BjsAVEkiDHJlZmVyZXIGOwBUSSIgaHR0cDovLyhkaXJlY3QpOjooZGlyZWN0KTo6BjsAVEkiEHJlZmVyZXJfbmV3BjsAVEkiHihkaXJlY3QpfihkaXJlY3Qpfn4obm9uZSkGOwBUSSIZd2FyZGVuLnVzZXIudXNlci5rZXkGOwBUWwdbBmkDiIgFSSIiJDJhJDEwJFhlOFpIY0tRT0ZhQ1ZoLnlQcElTWmUGOwBUSSIObmV4dF9wYXRoBjsARkkiHC9yZXF1ZXN0ZWRfdHJpcHMvOTUzMzQxBjsARkkiEF9jc3JmX3Rva2VuBjsARkkiMWdEbzFYRmt0eGk2SXVabTA4M0I1Z3JsanhpV2hyQzhwajk5RlBEYld0Rnc9BjsARg%3D%3D--9e61ff6bd7b63b3a8b39370bb58ed207400c902e;"/>
  &lt;con:entry key="X-Requested-With" value="XMLHttpRequest"/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded; charset=UTF-8"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request><![CDATA[utf8=%E2%9C%93&authenticity_token=gDo1XFktxi6IuZm083B5grljxiWhrC8pj99FPDbWtFw%3D&trip_id=953341&tags=tt_demo_agent(agent)%2C+&from_loc_type=Domestic&to_loc_type=International&adminComments=&notify_agents=&task_scheduler%5Btitle%5D=&task_scheduler%5Bemail%5D=vineet.singh%40traveltriangle.com&task_scheduler%5Brun_at%5D=&task_scheduler%5Bmessage%5D=&task_scheduler%5Brequested_trip_id%5D=953341&task_scheduler%5Buser_id%5D=362632&task_scheduler_id=&status=Active&traveler_stage=&dromant_reason=&commit=Edit+Request]]></con:request><con:originalUri>http://traveler-api.ttdev.in/admins/close_requested_trip</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f0ae7abe-d816-42bf-ae16-04956e5bd475" wadlVersion="http://wadl.dev.java.net/2009/02" name="ALL_CATEGORIES" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_categories.json" path="/api/{api_version}/trip_types/all_categories.json" id="be43f297-0718-420d-ac04-9c1198876e62"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>v1</con:value><con:style>TEMPLATE</con:style><con:default>v1</con:default></con:parameter></con:parameters><con:method name="Method 1" id="b148b950-8de3-43e9-8376-b5cfcd529048" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="e77b538c-145b-4012-9b1a-22cc4b8d040d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="tw5U6WZlXSvlz9nOnQTuybIgV3LHsuxl1tnDWYmzUeE="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2da48194-2396-475f-9117-c306f5fb2667" wadlVersion="http://wadl.dev.java.net/2009/02" name="ALL_THEMES" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="all_themes.json" path="/api/{api_version}/themes/all_themes.json" id="13074785-9ace-4538-bf19-206fe191cb05"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter></con:parameters><con:method name="Method 1" id="81c108b1-a70d-4b18-9b81-ba07e7fd9fd8" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="46d28c9a-9d2c-449a-8e05-13548d907d93" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="YV198JPkpYtmyNHmIr9k3HJ8Ip+ONirs98fuWoH2M9M="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f73ca72a-395e-4417-872a-e69baf8da23f" wadlVersion="http://wadl.dev.java.net/2009/02" name="Destination_Catalog" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/{api_version}/get_filtered_results" id="51688335-5474-45aa-8b62-aeb5dd533292"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>page_number</con:name><con:value>{pageNo}</con:value><con:style>QUERY</con:style><con:default>{pageNo}</con:default></con:parameter><con:parameter><con:name>result_type</con:name><con:value>destination_catalog</con:value><con:style>QUERY</con:style><con:default>destination_catalog</con:default></con:parameter><con:parameter><con:name>per_page</con:name><con:value>{per_page}</con:value><con:style>QUERY</con:style><con:default>{per_page}</con:default></con:parameter></con:parameters><con:method name="Method 1" id="e514dada-ea78-49fe-8aab-712fcde33811" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="335f69a5-f903-4dfd-b738-dbe4ef64bc03" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="vJmYMB6zX5sDFDcuwN/KtA1z65uEnTYfFbDhL2qGMG0="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="per_page" value="50"/>
  <con:entry key="page_number" value="1"/>
  <con:entry key="api_version" value="v4"/>
</con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="4cfd9e69-ecd8-4d4c-8492-fc92179b0fdd" wadlVersion="http://wadl.dev.java.net/2009/02" name="ForgotPassword" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="password" path="/users/password" id="eda04f84-de4e-4b48-8e6b-73016b88d9a6"><con:settings/><con:parameters/><con:method name="Method 1" id="12c52e32-7f56-4811-9a9f-ef1d3dd388ee" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="8775a176-4ad6-4d95-a314-55fbcdfc4577" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile" value="sHZ0s4bfjVNmVgQcCFK8A8RHn1haKBBLNDN/9c2xETM="/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"user":{"email":"testing1112015a@rediffmail.com"}}</con:request><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="fb13356d-b640-41c5-8152-a2c48685041e" wadlVersion="http://wadl.dev.java.net/2009/02" name="FilterType" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="filter" path="/api/{api_version}/metadata/filter" id="9f3341db-c9f9-4434-88c8-7c018bfaad53"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>filter_type</con:name><con:value>search</con:value><con:style>QUERY</con:style><con:default>search</con:default></con:parameter></con:parameters><con:method name="Method 1" id="bdb2b40c-cad5-488e-ae1b-1be61cbf6c7e" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="ZeyDUBXrnaxISvdqcsJhffWNLYwh038RT8zlvOhGkKI="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="359c35c1-ebfd-4a81-ae8b-e4af02ad08e9" wadlVersion="http://wadl.dev.java.net/2009/02" name="Get Filtered Results" type="rest" definitionUrl="http" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint></con:endpoints><con:resource name="get_filtered_results" path="/api/{api_version}/get_filtered_results" id="b995d46c-d6e9-4612-baf4-e7c55b93788d"><con:settings/><con:parameters><con:parameter><con:name>api_version</con:name><con:value>api_version</con:value><con:style>TEMPLATE</con:style><con:default>api_version</con:default></con:parameter><con:parameter><con:name>days</con:name><con:value>4-6</con:value><con:style>QUERY</con:style><con:default>4-6</con:default></con:parameter><con:parameter><con:name>trip_type</con:name><con:value>2</con:value><con:style>QUERY</con:style><con:default>2</con:default></con:parameter><con:parameter><con:name>category</con:name><con:value>family</con:value><con:style>QUERY</con:style><con:default>family</con:default></con:parameter><con:parameter><con:name>result_type</con:name><con:value>all</con:value><con:style>QUERY</con:style><con:default>all</con:default></con:parameter><con:parameter><con:name>price_ranges</con:name><con:value>40000-60000</con:value><con:style>QUERY</con:style><con:default>40000-60000</con:default></con:parameter></con:parameters><con:method name="Method 1" id="13226ef0-69e0-496f-acbc-3e3908b5a898" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="7a30ee31-8127-4cf9-86b0-97240048dfba" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="utlhYods7vSE3pI9j6uFJ+vs0lII5Xr5ZNTRcffUTb0="/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="fdca761a-7dc9-4c44-8551-75593cd9d082" name="ReusableTests" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="1966b330-a53d-494b-ba1a-a687afdeabe8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateToken" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="4afacfac-43d1-4460-8712-12aef9c0477c"><con:settings/><con:config><script>import java.security.MessageDigest;
import org.codehaus.groovy.runtime.EncodingGroovyMethods;


String requestUrl = context.expand('${#TestCase#request_url}');
String userEmail = context.expand('${#TestCase#user_email}');
String requestType = context.expand('${#TestCase#request_type}');

String digest;

if( requestType == "get" ){
  	digest = requestUrl; 
} else {
digest = userEmail + requestType;
}

digest = getUserDigest(digest); //this is final digest

log.info digest;
testRunner.testCase.setPropertyValue("hash_key",digest);

String getUserDigest(String digest) {
   String TT_S_KEY = "DAFAC0A55F50A75558B778035E3C9A8BDF03AF1E4C2124D2CD5DD42092EFD32E";
   try {
       digest = TT_S_KEY + digest;
       MessageDigest msgDigest = MessageDigest.getInstance("SHA-256");
       msgDigest.update(digest.getBytes());
       EncodingGroovyMethods encodeObj = new EncodingGroovyMethods();
       //digest = new String(Base64.encode(msgDigest.digest(), Base64.DEFAULT));
       digest = encodeObj.encodeBase64(msgDigest.digest()).toString();
       if (digest.length() > 164) {
           digest = digest.substring(0, 163);
       }
       return digest;
   } catch (Exception e) {
       log.info e.getMessage();
   }
   return null;
}
</script></con:config></con:testStep><con:properties><con:property><con:name>request_url</con:name><con:value>http://traveler-api.ttdev.in/api/v4/get_filtered_results?days=4-6&amp;trip_type=2&amp;category=family&amp;result_type=all&amp;price_ranges=40000-60000</con:value></con:property><con:property><con:name>user_email</con:name><con:value>testing1112015a@rediffmail.com</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>utlhYods7vSE3pI9j6uFJ+vs0lII5Xr5ZNTRcffUTb0=</con:value></con:property></con:properties></con:testCase><con:testCase id="d6e38075-ad8f-4890-9379-2f1cb755b34d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User press the search tab" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user get the TT-MObile token for search tab" id="75ded9eb-a813-4ba3-863d-9f02dd664f1f"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=search</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>ZeyDUBXrnaxISvdqcsJhffWNLYwh038RT8zlvOhGkKI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And search filter type is invoked" id="c582bfd1-ee48-40eb-ae4b-3f4844427f9d"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And search filter type is invoked" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given user get the TT-MObile token for search tab#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d15bc2a0-6f2b-4528-8a83-580060e4b43e" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="3057c977-27a6-49f4-98bb-4e4c141a510e" name="Verify Filter details"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

//Assert the filter type
String filter_type = json_response_holder.filter_type;
assert(filter_type == "search");

//Assert the filters details.

String[] filter_titles = json_response_holder.filters.title;

assert("Category" in filter_titles);
assert("Budget perperson (In Rs.)" in filter_titles);
assert("Duration(days)" in filter_titles);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v3" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="And again get the TT-Mobile token for package_catalog" id="081872f1-42f8-4133-b434-88d56388db6e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=package_catalog</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>JaIOLLAGfZt+Y186F9IT0X9WvXlgCquii8FHe/tzFT8=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And invoke the package catalog" id="07a22636-0847-443f-8510-d1c10aec6bc3"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And invoke the package catalog" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${And again get the TT-Mobile token for package_catalog#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3d4990d0-03f4-483c-a160-1478cd19b031" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fc38b5b1-362c-44ef-901a-4ff36c3b1466" name="Verify package_catalog data"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String filter_type = json_response_holder.filter_type;

assert(filter_type == "package_catalog");

String[] filter_titles = json_response_holder.filters.title;

assert("Type of Destination" in filter_titles);
assert("Categories" in filter_titles);
assert("Duration(days)" in filter_titles);
assert("Budget perperson (In Rs.)" in filter_titles);
assert("Hotel Star Rating" in filter_titles);
assert("Activities" in filter_titles);
assert("" in filter_titles);


int number_of_filters = filter_titles.size();

for(int i = 0; i &lt; number_of_filters;i++){

if(filter_titles[i] == "Type of Destination"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 2);
	assert("India" in option_title);
	assert("International" in option_title);
}
else if(filter_titles[i] == "Categories"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 2);
	assert("Honeymoon" in option_title);
	assert("Family" in option_title);
}
else if(filter_titles[i] == "Duration(days)"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("1-3" in option_title);
	assert("4-6" in option_title);
	assert("7-9" in option_title);
	assert("10-12" in option_title);
	assert(">12" in option_title);
	
}
else if(filter_titles[i] == "Budget perperson (In Rs.)"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 8);
	assert("Below 10,000" in option_title);
	assert("10,000 - 20,000" in option_title);
	assert("20,000 - 40,000" in option_title);
	assert("40,000 - 60,000" in option_title);
	assert("60,000 - 80,000" in option_title);
	assert("80,000 - 1 Lac" in option_title);
	assert("1 Lac - 2 Lac" in option_title);
	assert("Above 2 Lac" in option_title);
}
else if(filter_titles[i] == "Hotel Star Rating"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 4);
	assert("5 Star" in option_title);
	assert("4 Star" in option_title);
	assert("3 Star" in option_title);
	assert("2 Star" in option_title);

}
else if(filter_titles[i] == "Activities"){
	String[] option_title = json_response_holder.filters.options[i].title;
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("Adventure" in option_title);
	assert("Nature" in option_title);
	assert("Hill Station" in option_title);
	assert("Religious" in option_title);
	assert("Water Activities" in option_title);

}
else if(filter_titles[i] == ""){
	String[] option_title = json_response_holder.filters.options[i].title;
	String filter_name = json_response_holder.filters.param_name[i];
	assert(filter_name == "sort_by");
	
	int number_of_options = option_title.size();
	assert(number_of_options == 5);
	assert("Popularity" in option_title);
	assert("Price: Low To High" in option_title);
	assert("Price: High To Low" in option_title);
	assert("Duration: Low To High" in option_title);
	assert("Duration: High To Low" in option_title);

}

	
}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="filter_type" value="package_catalog"/>
  <con:entry key="api_version" value="v3"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again get the TT-MObile token for destination_catalog" id="f36190c1-bdc7-4bb0-8787-9ba192c9be94"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v3/metadata/filter?filter_type=destination_catalog</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>gOkWXGJfLtYn0MMRGSzhF/ydUSRK4IFnH6EJXVhywZA=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And also invoke the destination catalog" id="d3e727e9-f7e9-4d98-8a0a-57c42054a716"><con:settings/><con:config service="FilterType" resourcePath="/api/{api_version}/metadata/filter" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And also invoke the destination catalog" id="436ba333-2b44-4d4a-adc7-688847704b53" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Again get the TT-MObile token for destination_catalog#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/metadata/filter</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="bab5f0bc-75e9-4391-9b1d-1049503ea8c0" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d99d3722-3308-4dd1-a945-bf997fc5d953" name="Verify destimation catalog data"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String filter_type = json_response_holder.filter_type;
assert(filter_type == "destination_catalog");

String[] filter_titles = json_response_holder.filters.title;

int filter_count = filter_titles.size();
assert(filter_count == 6);

assert("Destination type" in filter_titles);

assert("Month of travel" in filter_titles);

assert("Activities" in filter_titles);

assert("Duration(days)" in filter_titles);

assert("Budget (per person)" in filter_titles);

assert("" in filter_titles);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="filter_type" value="destination_catalog"/>
  <con:entry key="api_version" value="v3"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="443a1d8a-5ee5-4957-86ba-237b43c1fc4e" name="SIGNIN_TO_Traveler" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="5ab66c45-5d18-4dcb-8819-795ff4a3c798" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_LoggedIn_To_TT_With_CorrectCredentials" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user gets the hash key" id="a312f009-b295-493d-a53c-e260ac7319f0"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>sHZ0s4bfjVNmVgQcCFK8A8RHn1haKBBLNDN/9c2xETM=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user logged in successfully with correct credentials" id="0e1675e5-97d4-454a-b905-87c616add1bc"><con:settings/><con:config service="SIGNIN" methodName="Method 1" resourcePath="/users/sign_in" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user logged in successfully with correct credentials" id="55632a5e-ad0a-4e8b-ae12-9dd447c981db" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="${#Project#user_email}"/>
  <con:entry key="TT-Mobile" value="${Given user gets the hash key#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
</xml-fragment>]]></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#Project#user_email}","password":"${#Project#user_password}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:assertion type="Simple Contains" id="3c794e95-ea7c-457e-971f-f30d9110fc59" name="EmailExistsInResponse"><con:configuration><token>${#Project#user_email}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="dcd47f93-5282-4b7f-a6bf-743b2a7e0455" name="success status is true"><con:configuration><token>true</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="8ca175ae-cf19-4e41-b512-9690eebb3082" name="Get user details"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String user_id = json_response_holder.current_user.id.toString();

String auth_key = json_response_holder.current_user.pubnub_auth.auth_key;

messageExchange.modelItem.testCase.setPropertyValue("user_id",user_id);

messageExchange.modelItem.testCase.setPropertyValue("auth_key",auth_key);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again user get the hash key" id="13724300-9a2b-4709-b9d8-40f223c2db59"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/app_config.json?user_id=${#TestCase#user_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value/></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>9rjcltzg0avnG5UQ/xDnF+iFb/tShD6c2gSdmiYqwbs=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And App config is loaded successfully for a user" id="34c19dcb-6898-4195-8ec6-c335b0057e64"><con:settings/><con:config service="AppConfig" resourcePath="/api/{api_version}/app_config.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And App config is loaded successfully for a user" id="8102f3b4-c7de-4700-a705-9a8e6737f51b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Again user get the hash key#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/app_config.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ab82efe1-d321-49e2-9874-fc8d1baeec24" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f9e23b8a-693a-4395-bf4c-25dc4cd10cee" name="Get the response cookie"><con:configuration><scriptText>for(String cookie in messageExchange.getResponseHeaders()["Set-Cookie"]){
	if(cookie.contains("_trips3m_session")){
		messageExchange.modelItem.testCase.setPropertyValue("Cookie",cookie);
	}
}
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="user_id" value="${#TestCase#user_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>2dbd3c985d5011e697ad0a213af2e147</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFVEkiJWJhMmVhNjdhMGFhMDY0MzgyMzhiZGU1YzMyZDQ1MDQ1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--68ad0a51c761945501f9ca7aca802cf5a7f83fa9; path=/; HttpOnly</con:value></con:property></con:properties></con:testCase><con:testCase id="0e255d9d-5360-41c4-acdf-df9417904836" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_NotLoggedIn_With_InCorrectCredentials" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user gets the hash key" id="af11ad44-cb99-4797-89cd-e0bf3dec411d"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>${#Project#traveler_apiendpoint}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>sHZ0s4bfjVNmVgQcCFK8A8RHn1haKBBLNDN/9c2xETM=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user not logged in if password is incorrect" id="199a53a1-33d7-4133-80e6-da483d24b331"><con:settings/><con:config service="SIGNIN" methodName="Method 1" resourcePath="/users/sign_in" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user not logged in if password is incorrect" id="55632a5e-ad0a-4e8b-ae12-9dd447c981db" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="${#Project#user_email}"/>
  <con:entry key="TT-Mobile" value="${Given user gets the hash key#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
</xml-fragment>]]></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"${#Project#user_email}","password":"incorrectpassword"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:assertion type="Simple Contains" id="3c794e95-ea7c-457e-971f-f30d9110fc59" name="error in response"><con:configuration><token>error</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="dcd47f93-5282-4b7f-a6bf-743b2a7e0455" name="error message validation"><con:configuration><token>Invalid email or password.</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="And user not logged in if username is incorrect" id="206f70f0-96ce-414c-8ebb-ca6e4a7ca1b1"><con:settings/><con:config service="SIGNIN" methodName="Method 1" resourcePath="/users/sign_in" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user not logged in if username is incorrect" id="55632a5e-ad0a-4e8b-ae12-9dd447c981db" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile-Post" value="${#Project#user_email}"/>
  <con:entry key="TT-Mobile" value="${Given user gets the hash key#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"login_type":"json","user":{"email":"incorrectemail@mailinator.com","password":"${#Project#user_password}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/sign_in</con:originalUri><con:assertion type="Simple Contains" id="3c794e95-ea7c-457e-971f-f30d9110fc59" name="error in response"><con:configuration><token>error</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="dcd47f93-5282-4b7f-a6bf-743b2a7e0455" name="error message validation"><con:configuration><token>Invalid email or password</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>2dbd3c985d5011e697ad0a213af2e147</con:value></con:property></con:properties></con:testCase><con:testCase id="deabf5ec-49ea-4267-8d1f-d8c63215b89a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_LoggedOut_Successfully" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user login to app" id="f21db895-3dee-414e-89dd-e00a57c4f7bb"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFVEkiJWJhMmVhNjdhMGFhMDY0MzgyMzhiZGU1YzMyZDQ1MDQ1BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--68ad0a51c761945501f9ca7aca802cf5a7f83fa9; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And get the TT-Mobile token for logout" id="861c919a-f439-4299-951a-3405b2fff2ce"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://http://${#Project#traveler_apiendpoint}/users/sign_out?logout_type=json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>/cUZDSbkx2P3LaWrRuqBLmCAIQB4qqKpd5h1WLWI/WI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Then user just Logged Out" id="0e777f02-be47-4f41-aa71-8fca5590ed0c"><con:settings/><con:config service="SignOut" resourcePath="/users/sign_out" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Then user just Logged Out" id="a74304c6-ae88-4acd-8fe5-4419af193deb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to app#Cookie}"/>
  <con:entry key="TT-Mobile" value="${And get the TT-Mobile token for logout#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/users/sign_out</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>2dbd3c985d5011e697ad0a213af2e147</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFVEkiJTY1YmI3YjU1ODY3ZjY4ZGVmYTczZWI3YTUwOTYxOTQ5BjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--774be2df43dcfa877aa5c85c7ae28182ad7736f6; path=/; HttpOnly</con:value></con:property></con:properties></con:testCase><con:testCase id="dc3f7c93-a697-40cd-9132-6d3aa4c3adda" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Forgot_Password" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user generate TT-Mobile token for Forgot password" id="bde51a5a-8831-4174-928e-813bb51358c5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/users/password</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>sHZ0s4bfjVNmVgQcCFK8A8RHn1haKBBLNDN/9c2xETM=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="When user select forgot password then request gets created" id="b45bae47-fde6-4f37-a129-afbf7b05e258"><con:settings/><con:config service="ForgotPassword" resourcePath="/users/password" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="When user select forgot password then request gets created" id="11e717d5-eb1d-4bb8-b4c0-0cde719f798d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="TT-Mobile" value="${Given user generate TT-Mobile token for Forgot password#hash_key}"/>
  <con:entry key="Content-Type" value="application/json; charset=UTF-8"/>
  <con:entry key="Accept" value="application/json"/>
  <con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"user":{"email":"${#Project#user_email}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/users/password</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9ae7d300-3385-4fc2-8750-7c09f6c21d7a" name="HTTP Status - 201 Created!"><con:configuration><codes>201</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="55d1a32b-2205-44d2-be30-11598b75a47b" name="Explore_The_App" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="47175fee-a1e3-4650-bc6a-2f23d7e50ba6" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Browse_EXPLORE_Tabs" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user gets the TT-Mobile hash key" id="a93ac3e4-31e4-41fa-84d0-e29031423242"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/app_config.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>czLSc3s1OigRlHhB2q8TS7ZinzIXG8BBQBFNAyS30ZU=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user initializes an app and config is loaded" id="dd9f4c15-5966-4def-8cdc-40bcd4cea604"><con:settings/><con:config service="AppConfig" resourcePath="/api/{api_version}/app_config.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user initializes an app and config is loaded" id="8102f3b4-c7de-4700-a705-9a8e6737f51b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${Given user gets the TT-Mobile hash key#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/app_config.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b83965ec-e39d-47a3-be60-5ad8cc7f9894" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e565bd59-0945-45bb-a01d-ed4d4d0940ed" name="Verify The Nodes In response"><con:configuration><scriptText>import groovy.json.JsonSlurper;
String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def is_coupon_enabled = json_response_holder.is_coupon_enabled;
def is_referer_enabled = json_response_holder.is_referer_enabled;
def isFabMenuEnabled = json_response_holder.isFabMenuEnabled;
def referral_text = json_response_holder.referral_text;
def helpline = json_response_holder.helpline;
def discount_text = json_response_holder.discount_text;

// verify all node is present, with any value.
assert(is_coupon_enabled != null) : "is_coupon_enabled node is not present";
assert(is_referer_enabled != null) : "is_referer_enabled node is not present";
assert(isFabMenuEnabled != null) : "isFabMenuEnabled node is not present";
assert(referral_text != null) : "referral_text node is not present";
assert(helpline != null) : "helpline node is not present";
assert(discount_text != null) : "discount_text node is not present";
</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="user_id" value=""/>
  <con:entry key="api_version" value="${#Project#api_version}"/>
</con:parameters><con:parameterOrder><con:entry>user_id</con:entry><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="When user again get the TT-Mobile token for all_categories" id="e62c51b1-6e1d-4aa7-a55b-1edf2bec4b20"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/trip_types/all_categories.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>tw5U6WZlXSvlz9nOnQTuybIgV3LHsuxl1tnDWYmzUeE=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user navigate to all categories" id="6f106587-0109-49a5-b3a5-6269bea25564"><con:settings/><con:config service="ALL_CATEGORIES" resourcePath="/api/{api_version}/trip_types/all_categories.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user navigate to all categories" id="e77b538c-145b-4012-9b1a-22cc4b8d040d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${When user again get the TT-Mobile token for all_categories#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/trip_types/all_categories.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ce0eeb5d-adcf-4b46-90e5-3cd9dacac21b" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>api_version</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Then user can view all categories with valid data" id="89029789-e01b-4d69-804d-22f439d584b2"><con:settings/><con:config><script>import groovy.json.JsonSlurper;
String response = context.expand('${And user navigate to all categories#Response}');

def json_response_holder = new JsonSlurper().parseText(response);

def all_agents = json_response_holder.agents;
def all_destinationcount_foreachcategory = json_response_holder.destination_count;
def all_ids = json_response_holder.id;
def all_category_names = json_response_holder.name;

//verify that category count is not zero.

int category_count = all_category_names.size();
assert(category_count != 0) : "No Catgory fetched.";

// Verify if all the expected nodes are present for each category.

for(int i = 0;i&lt;category_count;i++){
	def agent = json_response_holder.agents[i];
	def destination_count = json_response_holder.destination_count[i];
	def id = json_response_holder.id[i];
	def cloud_images_id = json_response_holder.cloud_images[i].id[0];
	def cloud_images_largeimageurl = json_response_holder.cloud_images[i].large_image_url[0];
	
	assert(agent != null): "agent node is not present for " + i + " number category";
	assert(destination_count != null) : "destination_count node is not present for " + i + " number category";
	assert(id != null) : "id node is not present for " + i + " number category";
	assert(cloud_images_id != null) : "cloud_images_id node is not present for " + i + " number category";
	assert(cloud_images_largeimageurl != null) : "cloud_images_largeimageurl node is not present for " + i + " number category";
}
</script></con:config></con:testStep><con:testStep type="calltestcase" name="When user get the TT-Mobile token for All_themes" id="ac80b8db-272c-434d-a9b1-3a4318123bf1"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/themes/all_themes.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>YV198JPkpYtmyNHmIr9k3HJ8Ip+ONirs98fuWoH2M9M=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user navigate to all themes" id="7d2e8a91-748c-4b33-bfcb-fbeaaddc9292"><con:settings/><con:config service="ALL_THEMES" resourcePath="/api/{api_version}/themes/all_themes.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user navigate to all themes" id="46d28c9a-9d2c-449a-8e05-13548d907d93" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${When user get the TT-Mobile token for All_themes#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/themes/all_themes.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0ad08b87-f307-46eb-9cf5-d6721af79545" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Then user can view all themes with valid data" id="d6152404-b0ce-4b30-8532-43f6edb14ad5"><con:settings/><con:config><script>import groovy.json.JsonSlurper;
String response = context.expand('${And user navigate to all themes#Response}');

def json_response_holder = new JsonSlurper().parseText(response);

def all_ids =  json_response_holder.id;
def all_largeimageurls = json_response_holder.large_image;
def all_theme_names = json_response_holder.name;

//verify that themes count should not be ZERO.
int themes_count = all_ids.size();
assert(themes_count != 0) : "No Themes could be fetched.";

//Verify all expected nodes are there for each theme.

for(int i = 0;i&lt;themes_count;i++){
	def theme_id = json_response_holder.id[i];
	def large_image_urls = json_response_holder.large_image[i];
	def theme_name = json_response_holder.name[i];

	assert(theme_id != null) : "id node is not present for " + i + " number theme.";
	assert(large_image_urls != null) : "large_image_urls node is not present for " + i + " number theme.";
	assert(theme_name != null) : "theme_name node is not present for " + i + " number theme.";
}
</script></con:config></con:testStep><con:testStep type="calltestcase" name="When user gets TT-Mobile token for destinations" id="7a8c122f-c64f-43ff-8557-9a9774226617"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?page_number=1&amp;result_type=destination_catalog&amp;per_page=50</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>vJmYMB6zX5sDFDcuwN/KtA1z65uEnTYfFbDhL2qGMG0=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And user navigate to destination tab" id="c619cbb2-f7dc-4b3c-85ff-1e3c73ef13e2"><con:settings/><con:config service="Destination_Catalog" resourcePath="/api/{api_version}/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And user navigate to destination tab" id="335f69a5-f903-4dfd-b738-dbe4ef64bc03" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${When user gets TT-Mobile token for destinations#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e4461dd4-01ce-4096-8262-53c827c5fcc1" name="HTTP Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="per_page" value="50"/>
  <con:entry key="page_number" value="1"/>
  <con:entry key="api_version" value="v4"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Then user can view the destinations" id="a8fcaa8d-9288-4edf-a148-f9425ab326aa"><con:settings/><con:config><script>import groovy.json.JsonSlurper;
String response = context.expand('${And user navigate to destination tab#Response}');

def json_response_holder = new JsonSlurper().parseText(response);

String result_type = json_response_holder.result_type;
assert(result_type == "destination_catalog");

def all_ids_for_destination = json_response_holder.destinations.id;


// verify the total destinations displayed in a  page.
int total_destinations_per_page = all_ids_for_destination.size();
assert(total_destinations_per_page &lt;= 50 &amp;&amp; total_destinations_per_page != 0);

// verify all nodes are present for each destinations.

for(int i = 0;i&lt;total_destinations_per_page;i++){
	int j = i+1;
	def agents = json_response_holder.destinations.agents[i];
	def booking = json_response_holder.destinations.bookings[i];
	def bttv = json_response_holder.destinations.bttv[i];
	def img = json_response_holder.destinations.img[i];
	def lat = json_response_holder.destinations.lat[i];
	def lon = json_response_holder.destinations.lon[i];
	def max_b = json_response_holder.destinations.max_b[i];
	def min_b = json_response_holder.destinations.min_b[i];
	def name = json_response_holder.destinations.name[i];
	def airport_city = json_response_holder.destinations.destinations_extend[i].airport_city;
	def airport_code = json_response_holder.destinations.destinations_extend[i].airport_code;
	def airport_name = json_response_holder.destinations.destinations_extend[i].airport_name;
	def bus_station_city = json_response_holder.destinations.destinations_extend[i].bus_station_city;
	def railway_station_city = json_response_holder.destinations.destinations_extend[i].railway_station_city;
	def railway_station_code = json_response_holder.destinations.destinations_extend[i].railway_station_code;
	def railway_station_name = json_response_holder.destinations.destinations_extend[i].railway_station_name;

	assert(agents != null) : "agent node is not there at " + j + " node in response";
	assert(booking != null) : "booking node is not there at " + j + " node in response";
	assert(bttv != null) : "bttv node is not there at " + j + " node in response";
	assert(img != null) : "img node is not there at " + j + " node in response";
	assert(lat != null) : "lat node is not there at " + j + " node in response";
	assert(lon != null) : "lon node is not there at " + j + " node in response";
	assert(max_b != null) : "max_b node is not there at " + j + " node in response";
	assert(min_b != null) : "min_b node is not there at " + j + " node in response";
	assert(name != null) : "name node is not there at " + j + " node in response";
	assert(airport_city != null) : "airport_city node is not there at " + j + " node in response";
	assert(airport_code != null) : "airport_code node is not there at " + j + " node in response";
	assert(airport_name != null) : "airport_name node is not there at " + j + " node in response";
	assert(bus_station_city != null) : "bus_station_city node is not there at " + j + " node in response";
	assert(railway_station_city != null) : "railway_station_city node is not there at " + j + " node in response";
	assert(railway_station_code != null) : "railway_station_code node is not there at " + j + " node in response";
	assert(railway_station_name != null) : "railway_station_name node is not there at " + j + " node in response";	
}
</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="a5affa82-ccfa-49ea-a05e-7a7e69ee3ae7" name="EndToEndScenarios" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="9e6946b2-0cce-4ca3-b18f-fb7bd016bb95" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase1" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Given user login to application" id="475a0a49-0667-4e75-9f3f-1c6aa51c12c9"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>5ab66c45-5d18-4dcb-8819-795ff4a3c798</con:targetTestCase><con:properties><con:property><con:name>user_id</con:name><con:value>251180</con:value></con:property><con:property><con:name>auth_key</con:name><con:value>2dbd3c985d5011e697ad0a213af2e147</con:value></con:property><con:property><con:name>Cookie</con:name><con:value>_trips3m_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFVEkiJTI4ZDMxM2FjYTYwM2IyMjU5MGQ4ODBhZjk0NzYyNTMwBjsAVEkiDHJlZmVyZXIGOwBUSSIABjsAVA%3D%3D--b14108a0f2fa0f566aec2c66d783caf36738a2d2; path=/; HttpOnly</con:value></con:property></con:properties><con:returnProperties><con:entry>user_id</con:entry><con:entry>auth_key</con:entry><con:entry>Cookie</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And get the hash token" id="2f92e4b3-1344-4216-acfd-4487cce8432b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/destinations/hot_destination_list.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>Reci/Qwu4ytkb+Ee8viokSHUf9r8MImpH1KNgQUorFI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And get all hot destinations to travel" id="90b2c76a-32c7-4ea5-b72a-d4e7222a53b8"><con:settings/><con:config service="GetAllHOTDestinations" resourcePath="/api/{api_version}/destinations/hot_destination_list.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And get all hot destinations to travel" id="395d5b54-e258-457a-bd30-b9a40fa6c672" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  <con:entry key="User-Agent" value="TravelTriangle"/>
  <con:entry key="TT-Mobile" value="${And get the hash token#hash_key}"/>
  <con:entry key="Accept" value="application/json"/>
</xml-fragment>]]></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v1/destinations/hot_destination_list.json</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="698ed767-8499-454c-9d97-cc48dc2ce753" name="Success status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d8369f6-d14b-4bbb-af71-e5c3dc2a5b9e" name="Select the random destination"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

def destination_ids = json_response_holder.data.id;

int total_destinations = destination_ids.size();

//Get the random destination.
Random rand = new Random();
int randomindex = rand.nextInt((total_destinations - 0) + 1) + 0;

String selected_destination_name = json_response_holder.data.name[randomindex];

String selected_destination_id = destination_ids.get(randomindex).toString();

messageExchange.modelItem.testCase.setPropertyValue("selected_destination_name",selected_destination_name);
messageExchange.modelItem.testCase.setPropertyValue("selected_destination_id",selected_destination_id);


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="api_version" value="v1" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again get the hash token" id="d9f8a2eb-3c07-47cf-89d2-b1128504f73c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?result_type=package_catalog&amp;destination=${#TestCase#selected_destination_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>sTphZDTzYxyc+fXHsOLtYfcSzMGD/1w87PYENZPYr/Q=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the filtered list for the destination selected" id="f813a3f3-7640-4263-b42a-884420c75669"><con:settings/><con:config service="GetFilteredResultsForDestination" resourcePath="/api/v4/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the filtered list for the destination selected" id="a50b2aaf-57c9-4b82-8e15-0a5d72b68704" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Again get the hash token#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v4/get_filtered_results</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="96b9f461-25ed-4d0f-8bab-429614cbbca2" name="Success status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="96c696d8-81ca-4b47-81ee-ba1b8ffabc4f" name="Get the package details"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

assert (json_response_holder.result_type == "package_catalog");
String destination = context.expand('${#TestCase#selected_destination_name}');
int total_packages = json_response_holder.total_entries;
assert(total_packages != 0): "No packages available for destination - '" + destination +"'";

int total_package_displayed = json_response_holder.packages.id.size();
//Get the random package.
Random rand = new Random();
int randomindex = rand.nextInt((total_package_displayed - 0) + 1) + 0;
log.info randomindex;
String selected_package_id = json_response_holder.packages.id[randomindex].toString();
String selected_package_days = json_response_holder.packages.days[randomindex].toString();
String selected_package_nights = json_response_holder.packages.nights[randomindex].toString();
String selected_package_cities = json_response_holder.packages.cities[randomindex].toString();
String selected_package_name = json_response_holder.packages.name[randomindex].toString();
String selected_package_price_total = json_response_holder.packages.price_total[randomindex].toString();
String package_heading = json_response_holder.packages.set_url[randomindex].toString().toLowerCase();
messageExchange.modelItem.testCase.setPropertyValue("selected_package_id",selected_package_id);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_name",selected_package_name);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_price_total",selected_package_price_total);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_headline",package_heading);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_days",selected_package_days);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_nights",selected_package_nights);
messageExchange.modelItem.testCase.setPropertyValue("selected_package_cities",selected_package_cities);

//Assert inclusion should never be empty.

String inclusions = json_response_holder.packages.inclusions.key;
assert(inclusions.size() != 0);

</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destination" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Again get the hash" id="6c40f108-36db-4394-adc2-ef43aef988fe"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/${#TestCase#selected_destination_id}/destination_attraction_list.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>ImiOF42IA7owry+lvST6C63QYxBCOaHT8gVjzsUsOwI=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get Attaractions for the destination" id="04a5d8d1-5bea-4d37-9b91-b1f3430a9487"><con:settings/><con:config service="AttaractionListsByDestination" resourcePath="/api/v2/destinations/{destination_id}/destination_attraction_list.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Attaractions for the destination" id="f3033d25-2f50-4916-98d3-7bce87e60748" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}}"/>
  &lt;con:entry key="TT-Mobile" value="${Again get the hash#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://null///api/v2/destinations/67/destination_attraction_list.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destination_id" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>destination_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for hotel images" id="238a0058-0ec7-420f-8d31-7270ef0e3563"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/${#TestCase#selected_destination_id}/destination_hotel_images.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>+OC+xdpt3uW0q6EOXN+VxlgpN7znGRE10gf9Gs7Z8GU=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the hotel images for selected destination" id="db48df19-f607-4264-8487-64066d1b4cf2"><con:settings/><con:config service="DestinationHotelImages" resourcePath="/api/v2/destinations/{destinationId}/destination_hotel_images.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the hotel images for selected destination" id="f00ef24d-81e4-44a7-b43f-423ab7721729" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for hotel images#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/destination_hotel_images.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for testimonials" id="e689c921-1449-4e2a-a173-4b319b3bff82"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/destinations/${#TestCase#selected_destination_id}/destination_top_testimonials.json?page_number=1</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>HJjB97v2ilqI4fiBZ8yWQfsqgic1bS0jqlvjNL3roGA=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the testimonials for the destination" id="481d82d7-aae1-48eb-8b80-38ae785b54c4"><con:settings/><con:config service="DestinationTopTestimonials" resourcePath="/api/v1/destinations/{destinationId}/destination_top_testimonials.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the testimonials for the destination" id="4ab32d67-b8f7-43ae-8d19-713dbbbdee36" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for testimonials#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/destinations/67/destination_top_testimonials.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="destinationId" value="${#TestCase#selected_destination_id}"/>
  <con:entry key="page_number" value="1"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for destination extend" id="655a4df4-9bf8-4314-973f-2b8f4e32a0ca"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v2/destinations/{destinationId}/get_destinations_extend.json</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>V2zYl+GhpjYmggTiL78kOrNyovE6L8DhRDfhN+bf/mk=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Get the destination extends" id="b0400034-ee96-407d-8b14-3420720a7c76"><con:settings/><con:config service="GetDestinationExtend" resourcePath="/api/v2/destinations/{destinationId}/get_destinations_extend.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get the destination extends" id="0f32e8ff-1fc9-42c2-8ca5-ee7167455128" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for destination extend#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v2/destinations/67/get_destinations_extend.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destinationId" value="${#TestCase#selected_destination_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key to view package details" id="a426099e-0753-4fc0-8095-88573f414e7a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://traveler-api.ttdev.in/api/v3/tour_packages/${#TestCase#selected_package_headline}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>4QPo0ZpsnPXx43gzZel94QCaPHx8JGf6vZwNY8s5pzw=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Select and view the package" id="097ba6ac-d79f-4933-9afc-b5cbd7dcea69"><con:settings/><con:config service="ViewPackage" resourcePath="/api/v3/tour_packages/{package_headline}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Select and view the package" id="fccd7a70-c8f4-439c-ba58-8d6378c7da35" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key to view package details#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v3/tour_packages/package_headline</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1a7e6895-5a68-47d4-9f80-5142ab01fd30" name="Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="5a1eff6c-9738-454c-b98c-b2fc5c6acb27" name="Verify &amp; Get the package details"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

int inclusions = json_response_holder.inclusions.key.size();

assert(inclusions != 0);

String selected_package_id = context.expand('${#TestCase#selected_package_id}');
String package_id_in_response = json_response_holder.id.toString();
assert(selected_package_id == package_id_in_response);


Float selected_package_price_total = Float.parseFloat(context.expand('${#TestCase#selected_package_price_total}'));
Float package_total_price = json_response_holder.price_total;

assert(selected_package_price_total == package_total_price);

String selected_package_cities = context.expand('${#TestCase#selected_package_cities}').toLowerCase();
String package_cities = json_response_holder.cities.toLowerCase();

assert(selected_package_cities == package_cities);

String destinations = json_response_holder.destinations.id.toString();
String destination_names = json_response_holder.destinations.name.toString();
destinations = destinations.replace("[","");
destinations = destinations.replace("]","");
destinations = destinations.replace(" ","");
String destination_encoded = destinations.replaceAll(",","%2C");
messageExchange.modelItem.testCase.setPropertyValue("destinations",destinations);
messageExchange.modelItem.testCase.setPropertyValue("destinations_encoded",destination_encoded);

destination_names = destination_names.replace("[","");
destination_names = destination_names.replace("]","");
destination_names = destination_names.replace(" ","");
messageExchange.modelItem.testCase.setPropertyValue("destination_names",destination_names);


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="package_headline" value="${#TestCase#selected_package_headline}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key to generate form 1" id="54818456-be0a-4edf-83d4-d5e9fa78d9db"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips/new.json?destination_ids%5B%5D=${#TestCase#destinations_encoded}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>N8J9hTqtG66AKM2QRloi2HRggCjmjgw1qNxNGjEJTLA=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Load the form 1 with pre populated data" id="6f0afa23-9065-4ac9-b6e4-f57e083d0ac9"><con:settings/><con:config service="NewRequestForm1" resourcePath="/api/v1/requested_trips/new.json" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Load the form 1 with pre populated data" id="196f7986-e711-407a-99fc-68aac4c6148a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key to generate form 1#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips/new.json</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="destination_ids[]" value="${#TestCase#destinations}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key for new request" id="081314f9-bfab-4a27-b156-6dee6a818edf"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>post</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>sHZ0s4bfjVNmVgQcCFK8A8RHn1haKBBLNDN/9c2xETM=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Submit a Request" id="2c5359d5-8f13-4a5b-be5e-2277cc6245fb"><con:settings/><con:config service="NewRequestedTrips" resourcePath="/api/v1/requested_trips" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Submit a Request" id="4a456b39-a76e-4c09-a86d-280850ef8cf4" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value="${Given user login to application#Cookie}"/>
  &lt;con:entry key="TT-Mobile" value="${Get the hash key for new request#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","email":"${#Project#user_email}","from_complete":"Uttar Pradesh,India","from_loc":"Noida, India","usr_location":"Noida, India","phone_no":"","preferences":[],"start_date":"2016-08-26","to_loc":"${#TestCase#destination_names}","trip_days":"${#TestCase#selected_package_days}","trip_stage":"2"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0e16c55e-4dc3-4c63-b6da-0fe123db78e8" name="Status - 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="6cacc325-96ed-4818-b1d2-53899cf40e18" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper;
import java.util.Random;


String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

assert(json_response_holder.success == true);

assert(json_response_holder.new_user == false);


String request_id = json_response_holder.id.toString();

messageExchange.modelItem.testCase.setPropertyValue("request_id",request_id);</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="Get the hash key to create a new request" id="b68e764d-b432-4ae7-893e-9be533f2fb41"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v1/requested_trips/${#TestCase#request_id}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>put</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>1VIj2e5BEaYD8RzdgeRiRQXqC42Yg03+uAA3w/wr8+s=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Create a request" id="21a045f7-a180-4cd5-9579-a10f41c0af52"><con:settings/><con:config service="CreateRequest" resourcePath="/api/v1/requested_trips/{request_id}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a request" id="77caa3a5-a5fa-4223-9f05-ae63ca901e91" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Cookie" value=""/>
  &lt;con:entry key="TT-Mobile" value=""/>
  &lt;con:entry key="Accept" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request>{"requested_trip":{"deviceId":"05180c8a6a004cd998130c76c1ecdad4","adult":"2","child":"0","email":"${#Project#user_email}","from_complete":"United","from_loc":"Noida, India","usr_location":"United","preferences":[{"customization_id":2,"options":[{"name":"3 Star","id":8,"tags":"","val":[]}]},{"customization_id":43,"options":[{"name":"in this week","id":203,"tags":"","val":[]}]},{"customization_id":71,"options":[]},{"customization_id":29,"options":[]}],"start_date":"2016-08-27","to_loc":"Singapore","trip_days":"${#TestCase#selected_package_days}"}}</con:request><con:originalUri>http://traveler-api.ttdev.in/api/v1/requested_trips/request_id</con:originalUri><con:credentials><con:username>ttuser</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>selected_destination_name</con:name><con:value>Africa</con:value></con:property><con:property><con:name>selected_destination_id</con:name><con:value>145</con:value></con:property><con:property><con:name>selected_package_id</con:name><con:value>483</con:value></con:property><con:property><con:name>selected_package_name</con:name><con:value>Mauritius And Dubai Family Tour Package</con:value></con:property><con:property><con:name>selected_package_price_total</con:name><con:value>65500</con:value></con:property><con:property><con:name>selected_package_headline</con:name><con:value>9n-10d-mauritius-and-dubai-family-tour</con:value></con:property><con:property><con:name>selected_package_days</con:name><con:value>10</con:value></con:property><con:property><con:name>selected_package_nights</con:name><con:value>9</con:value></con:property><con:property><con:name>selected_package_cities</con:name><con:value>mauritius->dubai</con:value></con:property><con:property><con:name>destinations</con:name><con:value>68,151</con:value></con:property><con:property><con:name>destinations_encoded</con:name><con:value>68%2C151</con:value></con:property><con:property><con:name>destination_names</con:name><con:value>Mauritius,Dubai</con:value></con:property><con:property><con:name>request_id</con:name><con:value>953366</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="43ac1171-4065-438b-8c85-5c0d633cd2c9" name="SIGNOUT_From_App" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:properties/></con:testSuite><con:testSuite id="c0a4f28e-09db-40a0-9eb7-e950e53645d2" name="Search"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="e16f63cb-6779-4125-bd01-e7ca8cac56d4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="User_Search_for_a_trip" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="User navigate to Search tab" id="f11766cf-298e-4e72-9f45-0a3ec1679dae"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d6e38075-ad8f-4890-9379-2f1cb755b34d</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="calltestcase" name="And gets the TT-Mobile token for  filtered search results" id="ebc7fc17-aedc-445c-ac17-673dd781d3b7"><con:settings/><con:config xsi:type="con:RunTestCaseStep" copyHttpSession="true" copyLoadTestProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>1966b330-a53d-494b-ba1a-a687afdeabe8</con:targetTestCase><con:properties><con:property><con:name>request_url</con:name><con:value>http://${#Project#traveler_apiendpoint}/api/v4/get_filtered_results?days=${#TestCase#number_of_days}&amp;trip_type=${#TestCase#trip_type}&amp;category=${#TestCase#trip_category}&amp;result_type=${#TestCase#result_type}&amp;price_ranges=${#TestCase#price_ranges}</con:value></con:property><con:property><con:name>user_email</con:name><con:value>${#Project#user_email}</con:value></con:property><con:property><con:name>request_type</con:name><con:value>get</con:value></con:property><con:property><con:name>hash_key</con:name><con:value>utlhYods7vSE3pI9j6uFJ+vs0lII5Xr5ZNTRcffUTb0=</con:value></con:property></con:properties><con:returnProperties><con:entry>hash_key</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="And get the search results for specified inputs" id="3f38fc0b-a8a1-4d80-a96f-e3ebf9f9ff01"><con:settings/><con:config service="Get Filtered Results" resourcePath="/api/{api_version}/get_filtered_results" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="And get the search results for specified inputs" id="7a30ee31-8127-4cf9-86b0-97240048dfba" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="TT-Mobile" value="${And gets the TT-Mobile token for  filtered search results#hash_key}"/>
  &lt;con:entry key="Accept" value="application/json"/>
  &lt;con:entry key="AppIdentifier" value="com.traveltriangle.traveller"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://${#Project#traveler_apiendpoint}</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="253118d6-9772-45f6-b4d8-599a82dd3dde" name="HTTP Status - 200!"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c91c111f-0f46-433f-826d-6986bb82142a" name="Verify Search Data"><con:configuration><scriptText>import groovy.json.JsonSlurper;

String response = messageExchange.getResponseContent();
def json_response_holder = new JsonSlurper().parseText(response);

String result_type = json_response_holder.result_type;

assert(result_type == "destination_catalog");

def min_budget = json_response_holder.destinations.min_b;

String price_range = context.expand('${#TestCase#price_ranges}');
Long min_range = Long.parseLong(price_range.split('-')[0]);
Long max_range = Long.parseLong(price_range.split('-')[1]);

for(def min_b in min_budget){
	assert(min_b >= min_range &amp;&amp; min_b &lt;= max_range);
}


</scriptText></con:configuration></con:assertion><con:credentials><con:username>ttsuer</con:username><con:password>ttuser</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="result_type" value="${#TestCase#result_type}"/>
  <con:entry key="category" value="${#TestCase#trip_category}"/>
  <con:entry key="days" value="${#TestCase#number_of_days}"/>
  <con:entry key="trip_type" value="${#TestCase#trip_type}"/>
  <con:entry key="price_ranges" value="${#TestCase#price_ranges}"/>
  <con:entry key="api_version" value="v4"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>number_of_days</con:name><con:value>4-6</con:value></con:property><con:property><con:name>trip_type</con:name><con:value>2</con:value></con:property><con:property><con:name>trip_category</con:name><con:value>family</con:value></con:property><con:property><con:name>result_type</con:name><con:value>all</con:value></con:property><con:property><con:name>price_ranges</con:name><con:value>40000-60000</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>execution_tag</con:name><con:value>search</con:value></con:property><con:property><con:name>dbname</con:name><con:value/></con:property><con:property><con:name>traveler_apiendpoint</con:name><con:value>traveler-api.ttdev.in</con:value></con:property><con:property><con:name>user_email</con:name><con:value>testing1112015a@rediffmail.com</con:value></con:property><con:property><con:name>user_password</con:name><con:value>abc123</con:value></con:property><con:property><con:name>api_version</con:name><con:value>v2</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:beforeRunScript>import groovy.lang.Binding;
import groovy.util.GroovyScriptEngine;
import java.sql.DriverManager;
import java.sql.Connection;
import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import com.mongodb.MongoClient;
import com.mongodb.MongoClientURI;
import com.mongodb.client.MongoDatabase;

////////////////////// Functions /////////////////////////

def filterList(commaSperatedListContent){
	def list = commaSperatedListContent.split(",");
	def filteredList = [];
	list.each(){
	def entry = it.toLowerCase().replaceAll("^\\s+", "");
	entry = entry.trim();
	if(entry != ""){
	filteredList.add(entry);}	
	}
	return filteredList;
}

def customListCompare(list1,list2){
	//list1 is the list of tags that are given by user to execute.
	//list2 is the list of tags for specific test suite.
	boolean isRunnable = false;
	for(int l1 in 0 .. list1.size()-1)
	{
		def inputTag = list1.get(l1);		
		for(int l2 in 0 .. list2.size()-1){
			
			if(inputTag.toString() == list2.get(l2).toString()){
				isRunnable =  true;
				break;
			}
		}
		if(isRunnable){
			break;
		}
	}
	return isRunnable;
}
///////////////////// Function //////////////////////////////////////////////

log.info "Start execution";
def projDir = context.expand('${projectDir}')
try{
File propFile =new File(projDir + "/Configurations/" + project.getName() + "/" + project.getName() + ".properties");
log.info propFile;
boolean isDeleted = propFile.delete();
log.info isDeleted;
}
catch(Exception e){log.info e.getMessage();}



def execution_Tag = project.getPropertyValue("execution_tag");

log.info "Test Execution Base Tag : "+ execution_Tag;

//Fetch the tags to execute the required test suites.
def filteredTags = filterList(execution_Tag) ;

def Conf_input = "";

log.info "Reading the Configuration file.....";

try{

Conf_input = new File(projDir + "/Configurations/" + project.getName() + "/TestData.xml");

def parser = new XmlParser(); //Get XML Parser.

def Configuration = parser.parse(Conf_input);//Point parser to configration file.

context.Configuration = Configuration;

}
catch(Exception e){
		assert false : "Error in reading configuration file -- " + e.getMessage();
}

def testSuiteListToExecute = [];

log.info "Fetching Test-Scenarios to execute....";

def testSuites = project.getTestSuiteList();

//Enable all TestSuites.
for(j in 0 .. testSuites.size()-1){
	//log.info testSuites.get(j).getName();
	testSuites.get(j).setDisabled(false); 
}
//Decide which test suites to execute and eventually disabled the non-relevant test suites.
		for(i in 0 .. testSuites.size()-1) {
   			def testSuiteName = testSuites.get(i).getName();
   			def tags = context.Configuration.TestSuite."${testSuiteName}".tags.text()
   			def testSuiteTags = filterList(tags);
   			   			
   			if(filteredTags == null || filteredTags.empty){
   				break;
   			}
   			else{
   				if(testSuiteTags == null || testSuiteTags.empty){
   					testSuites.get(i).setDisabled(true);
   				}
   				else{
   					def isRunnable = customListCompare(filteredTags,testSuiteTags);
   					log.info testSuiteName+":::"+isRunnable
   					if(!isRunnable){
   						testSuites.get(i).setDisabled(true);
   					}
   				}
   			}
   			
		}


// Load Databases.
log.info"Loading Databases........";

int index = 1;

String[] db_Names = project.getPropertyValue("dbname").split(",");

for(String db_Name in db_Names){

db_Name = db_Name.trim();

if(db_Name == ""){break;}

context.dbName = db_Name;

String dbConnectionString = "";

String dbDriver = "";

String dbType = "";

try{
	String databaseCollectionFile_Location = projDir + "/Configurations/" + project.getName() + "/DataBases.csv";
	
	BufferedReader reader = new BufferedReader(new FileReader(databaseCollectionFile_Location));
	
	String lineInFile = reader.readLine();
		
		while(lineInFile != null){
		
		String[] lineContents = lineInFile.split(",");
		
		if(lineContents[0] == context.dbName){
			dbType = lineContents[1]
			dbDriver = lineContents[2];
			dbConnectionString = lineContents[3];
			break;
		}
		lineInFile = reader.readLine();
		}
}
catch(Exception e){
	log.info "Couldn't load database from 'Databases' repo.Please review the file again!!" + e.getMessage();
}
context.dbDriver = dbDriver

context.dbConnectionString = dbConnectionString

log.info "Connecting to : [" + context.dbName + "] ................";

log.info "DB Connection String --" + dbConnectionString;

if(dbType.toLowerCase().contains("mongo")){
	try{
	MongoClient mongoClient = new MongoClient(new MongoClientURI(context.dbConnectionString));
   	
     context.dbConnection = mongoClient;
	if(context.mongoConnection == null){
     context.mongoConnection = mongoClient;}
     else{
     	String mongoConnectionString = "mongoConnection" + index;
     	log.info mongoConnectionString;
     	context."${mongoConnectionString}" = mongoClient;
     }
	}
	catch(Exception e){
		runner.fail("Couldn't connect to application DB -- " + context.dbName + " " + e.getMessage());
	}
}
else if(dbType.toLowerCase().contains("mysql")){
	if(context.dbName != "" &amp;&amp; context.dbName != null){
	try{
		com.eviware.soapui.support.GroovyUtils.registerJdbcDriver(context.dbDriver )
		
		def connection = DriverManager.getConnection(context.dbConnectionString);
		context.dbConnection = connection;
		if(context.mysqlConnection == null){
     		context.mysqlConnection = connection;}
     	else{
     		String mysqlConnectionString = "mysqlConnection" + index;
     		context."${mysqlConnectionString}" = connection;
    		 }
		context.statement = connection.createStatement();
	}
	catch(Exception e){
			runner.fail("Couldn't connect to application DB -- " + context.dbName + " " + e.getMessage());	
	}
}
}
index++;
}
log.info "Loading utilities......";
//create an instance of generic utilities.
try{
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
String path = projDir + "/ext/";

GroovyScriptEngine gse = new GroovyScriptEngine(path) ;
externalScript = gse.loadScriptByName("Utilities.groovy")
instance = externalScript.newInstance()
context.utility = instance ; 
}
catch(Exception e){
	log.info "Unable to initialize framework utility, error being -- " + e.getMessage();
}

log.info"Preparing test data ..............";

context.Configuration.children().each{
	if(it.name() == "TestSuite"){
		it.children().each{
	String testSuiteNameInConf = it.name();
	
	it.children().each{
		if(it.name() != "tags"){			
			String testCaseNameInConf = it.name();
			
			it.children().each{
				try{
					//log.info testSuiteNameInConf+":::"+testCaseNameInConf+":::"+it.name()+":::"+it.text()
					project.getTestSuiteByName(testSuiteNameInConf).getTestCaseByName(testCaseNameInConf).setPropertyValue(it.name(), it.text());
					}
				catch(Exception e){ }
			}
		}
	}
}
}
}</con:beforeRunScript><con:afterRunScript>import com.eviware.soapui.model.testsuite.TestSuiteRunner;
import com.eviware.soapui.model.testsuite.TestCaseRunner;
import com.eviware.soapui.model.testsuite.TestRunner.Status;

def projDir = context.expand('${projectDir}')
// Get the Execution tag.
String executiontag = project.getPropertyValue("execution_tag");

//Start Time
def projectstartTime = new Date(runner.getStartTime());

//Time Taken
def pr_timeTaken = runner.getTimeTaken();

int testcasespassed = 0;
int testcasesfailed = 0;
int testcasesexecuted = 0;
List&lt;String> testCaseNameFailed = new ArrayList&lt;String>();
//Number Of test cases passed/failed/didn't run.
def List&lt;TestSuiteRunner> testSuiteRunners = runner.getResults()

for(TestSuiteRunner suiterunner in testSuiteRunners){
	String testSuiteName = suiterunner.getTestSuite().getName();
	List&lt;TestCaseRunner> testcaserunners = suiterunner.getResults();
	for(TestCaseRunner testcaserunner in testcaserunners){
		Status status = testcaserunner.getStatus();
		 String testcasename = testcaserunner.getTestCase().getName();
		if(status == Status.FINISHED){
			testcasespassed++;
		}
		if(status == Status.FAILED){
			testcasesfailed++;
			testCaseNameFailed.add(testcasename);
		}
		log.info status;
	}
}
testcasesexecuted = testcasespassed + testcasesfailed;
def percentPassed = (testcasespassed / testcasesexecuted) * 100;
percentPassed = Math.round(percentPassed * 100) / 100
String testCaseFailedInStringFormat = "";
for(String testCaseFailed in testCaseNameFailed){
	if(testCaseFailedInStringFormat == ""){
		testCaseFailedInStringFormat = testCaseFailed;
	}
	else{
	testCaseFailedInStringFormat = testCaseFailedInStringFormat + "," + testCaseFailed}
}

// create a property file.
try{
File propFile =new File(projDir + "/Configurations/" + project.getName() + "/" + project.getName() + ".properties");
propFile.delete();
boolean isCreated = propFile.createNewFile();
log.info isCreated;
Properties props = new Properties();
props.load(propFile.newDataInputStream());
props.setProperty("testgroup",executiontag);
props.setProperty("StartTime",projectstartTime.toString());
props.setProperty("timetaken",pr_timeTaken.toString());
props.setProperty("testexecuted",testcasesexecuted.toString());
props.setProperty("testcasespassed",testcasespassed.toString());
props.setProperty("testcasesfailed",testcasesfailed.toString());
props.setProperty("persentpassed",percentPassed.toString());
props.setProperty("testCaseFailedInStringFormat",testCaseFailedInStringFormat);
props.store(propFile.newWriter(), null)
}
catch(Exception e){
	log.info "Error in storing test execution data"  + e.getMessage();
}
</con:afterRunScript><con:sensitiveInformation/></con:soapui-project>